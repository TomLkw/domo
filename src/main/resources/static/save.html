<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>新增</title>
    <link rel="stylesheet" href="bt/css/bootstrap.css">
    <link rel="stylesheet" href="bt/css/bootstrap-theme.css">
    <script type="text/javascript" src="bt/js/jquery.js"></script>
    <script type="text/javascript" src="bt/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container">
    <form class="form-horizontal">
        <h1 class="center-block">Add New User</h1>
        <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Username</label>
            <div class="col-sm-10">
                <input type="email" class="form-control" id="inputEmail3" placeholder="Username"
                       >
            </div>
        </div>
        <div class="form-group">
            <label for="inputPassword3" class="col-sm-2 control-label">Password</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" id="inputPassword3" placeholder="Password">
            </div>
        </div>
        <div class="form-group">
            <label for="inputPassword3" class="col-sm-2 control-label">RepeatPassword</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" id="inputPassword4" placeholder="RepeatPassword">
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <input type="button" id = "submit" class="btn btn-info form-control" value="save"></input>
            </div>
        </div>
    </form>
</div>

</body>
</html>
<script>
    $(function () {
        $('[data-toggle="popover"]').popover()
    });
    $("#inputEmail3")
    $("#submit").click(function () {
       var name = $("#inputEmail3").val();
       var password = $("#inputPassword3").val();
       var password2 = $("#inputPassword4").val();
       //校验
        if(name.length == 0){
            alert("用户名不能为空");
            return;
        }
        if(password.length == 0){
            alert("密码不能为空");
            return;
        }
        if (password != password2){
            alert("两次密码不一致");
            return;
        }
        var user = {
            "username":name,
            "password":password
        }
        //将实体类转换json
        var userJson = JSON.stringify(user);
        $.post({
            url:'user/save',
            data:userJson,
            contentType:'application/json',
            success:function (data) {
                alert(data)
            }
        })
    });
</script>